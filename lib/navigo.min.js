!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Navigo",[],e):"object"==typeof exports?exports.Navigo=e():t.Navigo=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t){return t instanceof RegExp?t:t.replace(/\/+$/,"").replace(/^\/+/,"/")}function o(t,e){return 0===e.length?null:t?t.slice(1,t.length).reduce(function(t,n,r){return null===t&&(t={}),t[e[r]]=n,t},null):null}function i(t){var e,n=[];return e=t instanceof RegExp?t:new RegExp(r(t).replace(c,function(t,e,r){return n.push(r),p}).replace(g,m)+v),{regexp:e,paramNames:n}}function u(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];return e.map(function(e){var n=i(e.route),r=n.regexp,u=n.paramNames,s=t.match(r),a=o(s,u);return s?{match:s,route:e,params:a}:!1}).filter(function(t){return t})}function s(t,e){return u(t,e)[0]||!1}function a(t,e){var n=u(t,e.filter(function(t){var e=r(t.route);return""!==e&&"*"!==e})),o=r(t);return n.length>0?n.map(function(e){return r(t.substr(0,e.match.index))}).reduce(function(t,e){return e.length<t.length?e:t},o):o}function l(){return!("undefined"==typeof window||!window.history||!window.history.pushState)}function f(t){var e=t.route,r=t.handler,o=t.name,i=t.hooks,u=function(t){if(!i)return t();if(i.before&&!i.after)return i.before(function(){return t()});if(i.before&&i.after)return i.before(function(){var e=t();return i.after(),e});if(!i.before&&i.after){var e=t();return i.after(),e}};return{fire:function(t){return u(function(){e instanceof RegExp?r.apply(void 0,n(t.match.slice(1,t.match.length))):r(t?t.params:null)})},route:e,handler:r,name:o,hooks:i}}function d(t,e){this._routes=[],this.root=e&&t?t.replace(/\/$/,"/#"):t||null,this._useHash=e,this._paused=!1,this._destroyed=!1,this._lastRouteResolved=null,this._notFoundHandler=null,this._defaultHandler=null,this._ok=!e&&l(),this._listen(),this.updatePageLinks()}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};Object.defineProperty(e,"__esModule",{value:!0});var c=/([:*])(\w+)/g,g=/\*/g,p="([^/]+)",m="(?:.*)",v="(?:/|$)";d.prototype={helpers:{match:s,root:a,clean:r},navigate:function(t,e){var n;return t=t||"",this._ok?(n=(e?"":this._getRoot()+"/")+r(t),n=n.replace(/([^:])(\/{2,})/g,"$1/"),history[this._paused?"replaceState":"pushState"]({},"",n),this.resolve()):"undefined"!=typeof window&&(window.location.href=window.location.href.replace(/#(.*)$/,"")+"#"+t),this},on:function(){if(2===arguments.length)"function"==typeof(arguments.length<=0?void 0:arguments[0])&&"object"===h(arguments.length<=1?void 0:arguments[1])?this._defaultHandler=f({handler:arguments.length<=0?void 0:arguments[0],hooks:arguments.length<=1?void 0:arguments[1]}):this._add.apply(this,arguments);else if(arguments.length>2)this._add.apply(this,arguments);else if("object"===h(arguments.length<=0?void 0:arguments[0]))for(var t in arguments.length<=0?void 0:arguments[0])this._add(t,(arguments.length<=0?void 0:arguments[0])[t]);else"function"==typeof(arguments.length<=0?void 0:arguments[0])&&(this._defaultHandler=f({handler:arguments.length<=0?void 0:arguments[0]}));return this},notFound:function(t,e){this._notFoundHandler=f({handler:t,hooks:e})},resolve:function(t){var e,n=(t||this._cLoc()).replace(this._getRoot(),"");return this._paused||n===this._lastRouteResolved?!1:(this._useHash&&(n=n.replace(/^\/#/,"/")),(e=s(n,this._routes))?(this._lastRouteResolved=n,e.route.fire(e)):!this._defaultHandler||""!==n&&"/"!==n?(this._notFoundHandler&&this._notFoundHandler.fire(),!1):(this._defaultHandler.fire(),!0))},destroy:function(){this._routes=[],this._destroyed=!0,clearTimeout(this._listenningInterval),"undefined"!=typeof window?window.onpopstate=null:null},updatePageLinks:function(){var t=this;"undefined"!=typeof document&&this._findLinks().forEach(function(e){e.hasListenerAttached||(e.addEventListener("click",function(n){var o=e.getAttribute("href");t._destroyed||(n.preventDefault(),t.navigate(r(o)))}),e.hasListenerAttached=!0)})},generate:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return this._routes.reduce(function(n,r){var o;if(r.name===t){n=r.route;for(o in e)n=n.replace(":"+o,e[o])}return n},"")},link:function(t){return this._getRoot()+t},pause:function(t){this._paused=t},disableIfAPINotAvailable:function(){l()||this.destroy()},_add:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=arguments[2];return"object"===("undefined"==typeof e?"undefined":h(e))?this._routes.push(f({route:t,handler:e.uses,name:e.as,hooks:n})):this._routes.push(f({route:t,handler:e,hooks:n})),this._add},_getRoot:function(){return null!==this.root?this.root:(this.root=a(this._cLoc(),this._routes),this.root)},_listen:function(){var t=this;this._ok?window.onpopstate=function(){t.resolve()}:!function(){var e=t._cLoc(),n=void 0,r=void 0;(r=function(){n=t._cLoc(),e!==n&&(e=n,t.resolve()),t._listenningInterval=setTimeout(r,200)})()}()},_cLoc:function(){return"undefined"!=typeof window?window.location.href:""},_findLinks:function(){return[].slice.call(document.querySelectorAll("[data-navigo]"))}},e["default"]=d,t.exports=e["default"]}])});
//# sourceMappingURL=navigo.min.js.map